(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{148:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("CPM搭建的前提条件是：")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("请先搭建好以上的环境。")]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("我们需要从"),a("a",{attrs:{href:"https://github.com/cevio/cpm",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1),t._v("下载我们的程序。")]),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("安装必要的依赖，以便我们可以验证程序是否可以启动。")]),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),a("p",[t._v("安装完毕依赖，我们即可以启动程序。但是你会发现报错，因为我们没有指定用户验证体系。")]),t._v(" "),t._m(10),a("p",[t._v("请不要紧张，这是非常正常的。")]),t._v(" "),t._m(11),t._v(" "),a("p",[t._v("配置有两个地方需要修改:")]),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("完成上面修改后，我们仅需要支持下用户即可。")]),t._v(" "),t._m(13),t._v(" "),a("p",[t._v("用户体系分两个函数需要实现：")]),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("我们需要运行命令：")]),t._v(" "),t._m(15),t._m(16),t._v(" "),a("p",[t._v("为了测试启动，我们可以直接复制下面代码来快速创建用户体系函数：")]),t._v(" "),t._m(17),a("p",[t._v("保存后，你可以在项目根目录下通过以下命令启动查看：")]),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._v(" "),a("p",[t._v("CPM支持以下的命令组合：")]),t._v(" "),t._m(21),a("p",[t._v("对于内部私有包而言，这些命令已经足够使用，如果需要扩展，可以自行扩展，或者在 "),a("a",{attrs:{href:"https://github.com/cevio/cpm/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1),t._v(" 上提Issue给我，我酌情考虑添加升级。")]),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("在每个命令后面写上 --registry=http://npm.test.cn 比较繁琐，那么我们可以自己生成一个命令叫cpm简化它。你可以通过 "),a("a",{attrs:{href:"http://yeoman.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("yeoman"),a("OutboundLink")],1),t._v(" 开始创建你们的CPM命令：")]),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),a("p",[t._v("执行完毕这个命令，我们会从github上将master分支的代码通过zip包模式下载，覆盖到本地，当然这是全量覆盖的。由于您的git仓库的存在，所以可以对比出修改了哪些文件，你可以revert或者自己处理非app/下的文件内容，一般都是配置。然后修改提交上线即可。")]),t._v(" "),t._m(37),t._v(" "),a("p",[t._v("感谢大家使用CPM，如有疑问请提交issue，我会帮忙解答。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建","aria-hidden":"true"}},[this._v("#")]),this._v(" 搭建")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Nodejs >= 8.0.0")]),this._v(" "),s("li",[this._v("MySQL >= 5.6.16")]),this._v(" "),s("li",[this._v("Redis 无限制")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载","aria-hidden":"true"}},[this._v("#")]),this._v(" 下载")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("git")]),this._v(" clone https://github.com/cevio/cpm.git\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请下载稳定的master分支，其他分支仅开发使用，不建议下载。下载完毕后打开 "),s("code",[this._v("database.sql")]),this._v(" 文件，创建mysql数据库。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 依赖")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -g @clusic/cli pm2\n$ "),a("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" cpm\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" i\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("@clusic/cli")]),this._v(" 是clusic架构的开发工具。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"开发调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发调试","aria-hidden":"true"}},[this._v("#")]),this._v(" 开发调试")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" run dev\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Error: You should setup your own "),a("span",{attrs:{class:"token variable"}},[a("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("UserService"),a("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" first\n    at module.exports "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/Users/shenyunjie/code/mzftech/cpm/app.bootstrap.js:7:11"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at WorkerService.createService "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/Users/shenyunjie/code/mzftech/cpm/node_modules/@clusic/rex/lib/app.js:106:15"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at process._tickCallback "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal/process/next_tick.js:68:7"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at Function.Module.runMain "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal/modules/cjs/loader.js:744:11"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at startup "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal/bootstrap/node.js:285:19"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at bootstrapNodeJSCore "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("internal/bootstrap/node.js:739:3"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"修改配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 修改配置")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("strong",[t._v("config/config.{env}.js")]),t._v(" "),a("code",[t._v("{env}")]),t._v("表示你的环境变量，一般开发是 "),a("code",[t._v("config.development.js")]),t._v("，生产环境是 "),a("code",[t._v("config.production.js")]),t._v("。你可以自由修改参数配置。注意"),a("code",[t._v("registryHost")]),t._v("属性必须修改为你自己的"),a("code",[t._v("http://127.0.0.1:7002")]),t._v("，否则下载包会报错，如果上线后，请直接修改为你的域名，比如"),a("code",[t._v("http://npm.example.com")]),t._v("。")]),t._v(" "),a("li",[a("strong",[t._v("config/plugin.{env}.js")]),t._v(" {env}同上。一般是用来配置插件的数据，这里我们需要根据环境不通来修改"),a("code",[t._v("mysql")]),t._v("和"),a("code",[t._v("redis")]),t._v("的数据配置。注意，redis如果需要支持集群模式，请将redis的配置下面的"),a("code",[t._v("options")]),t._v("编程一个等价数据结构的数组即可。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"用户体系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户体系","aria-hidden":"true"}},[this._v("#")]),this._v(" 用户体系")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("Login()")]),this._v(" 登入验证函数")]),this._v(" "),s("li",[s("code",[this._v("User()")]),this._v(" 用户查询函数")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ clusic add authorization --service\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("程序的"),s("code",[this._v("app/service/")]),this._v("下面会自动创建一个文件叫"),s("code",[this._v("authorization.js")]),this._v("，这个文件就是我们的用户体系文件。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ContextComponent "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'@clusic/method'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("AuthorizationService")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ContextComponent")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("constructor")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("super")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Login")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" password"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      account"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      email"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@cpm.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      avatar"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'https://i.loli.net/2017/08/21/599a521472424.jpg'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      scopes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'@'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" account"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@html5'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@node'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      extra"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("User")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      account"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      email"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" account "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@cpm.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      avatar"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'https://i.loli.net/2017/08/21/599a521472424.jpg'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      scopes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'@'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" account"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@html5'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@node'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      extra"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ "),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" run dev\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开"),s("code",[this._v("http://127.0.0.1:7002")]),this._v("即可看到我们的页面。恭喜你，那么你可以使用CPM了。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"命令支持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令支持","aria-hidden":"true"}},[this._v("#")]),this._v(" 命令支持")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" login --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("logout")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("with no args, "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" package dir"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("tag"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("version range"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("git-host"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(":"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("git-user"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("repo-name"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("git repo url"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("tarball file"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("tarball url"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("folder"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" update "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-g"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" uninstall "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-S"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--save"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("-D"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--save-dev"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("-O"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--save-optional"),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("--no-save"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" publish "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("tarball"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token operator"}},[t._v("|")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("folder"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--tag "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("tag"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--otp otpcode"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--dry-run"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" unpublish "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("whoami")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("--registry "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("registry"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner add "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("user"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner "),a("span",{attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("user"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" owner "),a("span",{attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" deprecate "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("message"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" view "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("@scope"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" dist-tag add "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("@"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("tag"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" dist-tag "),a("span",{attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("tag"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" dist-tag "),a("span",{attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" access public "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("package"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n$ "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" access restricted "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("package"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --registry"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("http://npm.test.cn\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"简化命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简化命令","aria-hidden":"true"}},[this._v("#")]),this._v(" 简化命令")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" childProcess "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'child_process'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" argv "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argv"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("slice")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nargv"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("push")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'--registry=http://npm.test.cn'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nchildProcess"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("spawn")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'npm'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" argv"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" stdio"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'inherit'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请修改上面的"),s("code",[this._v("http://npm.test.cn")]),this._v("为你自己的服务地址。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("原理是在我们通过"),s("code",[this._v("cpm")]),this._v(" 命令代替 "),s("code",[this._v("npm")]),this._v(" 命令的时候，在命令的最末尾加上一个 "),s("code",[this._v("--registry=http://npm.test.cn")]),this._v(" 指向我们的 Registry。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们完全可以用"),s("code",[this._v("cpm")]),this._v("代替掉"),s("code",[this._v("npm")]),this._v("了。比如")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("$ cpm login\n$ cpm "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" vue\n$ cpm publish\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br"),s("span",{staticClass:"line-number"},[this._v("3")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("其他简化命令的方法有很多，你可以下载"),s("code",[this._v("npm install nrm -g")]),this._v("等来切换。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"深入用户体系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#深入用户体系","aria-hidden":"true"}},[this._v("#")]),this._v(" 深入用户体系")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("上面有一串测试用的代码，我们来剖析下。不论是"),s("code",[this._v("Login")]),this._v("还是"),s("code",[this._v("User")]),this._v("函数都返回如下的数据结构：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("account "),a("code",[t._v("string")]),t._v(" 用户账号，唯一性的。")]),t._v(" "),a("li",[t._v("name "),a("code",[t._v("string")]),t._v(" 用户姓名")]),t._v(" "),a("li",[t._v("email "),a("code",[t._v("string")]),t._v(" 用户邮箱")]),t._v(" "),a("li",[t._v("avatar "),a("code",[t._v("string")]),t._v(" 用户头像")]),t._v(" "),a("li",[t._v("scopes "),a("code",[t._v("array")]),t._v(" 用户私有域数组")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("至于 "),s("code",[this._v("extra")]),this._v(" 是额外参数，可以随意传，作用在web界面上。而"),s("code",[this._v("scope")]),this._v("，你可以通过自己的逻辑代码给不同用户提供可以上传的"),s("code",[this._v("scopes")]),this._v("作用域。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("scopes作用域作用结果都是在用户执行"),s("code",[this._v("cpm login")]),this._v("后生效。如果你改动过代码，需要用户重新登录生效。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新","aria-hidden":"true"}},[this._v("#")]),this._v(" 更新")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("考虑到一般企业拥有自己的gitlab，当然会clone一份到自己的仓库，所以请在clone后执行"),s("code",[this._v("rm -rf .git")]),this._v("，清楚源仓库的引用。你可以提交本程序到你自己的仓库。更新的时候只需要运行")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" run update\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"感谢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#感谢","aria-hidden":"true"}},[this._v("#")]),this._v(" 感谢")])}],!1,null,null,null);e.options.__file="README.md";s.default=e.exports}}]);